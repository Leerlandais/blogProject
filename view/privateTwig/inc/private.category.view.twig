<?php
?>

<div class="table-responsive">
    <table class="table table-bordered table-striped" data-toggle="table" data-show-columns="true" data-search="true" data-pagination="true">
        <thead>
        <tr>
            <th class="text-center"  data-sortable="true">ID</th>
            <th class="text-center"  data-sortable="true">Nom</th>
            <th class="text-center">Modifier</th>
            <th class="text-center">Supprimer</th>

        </tr>
        </thead>
        <tbody>

                {% for cat in cats %}
            <tr>
                <td>{{ cat.getCategoryId }}</td>
                <td>{{ cat.getCategoryName }}</td>
                <td><a href="?route=admin&section=categories&action=update&slug={{ cat.getCategorySlug }}"><img src="images/pencil.svg" alt="update"></a></td>
                <td><a href="?route=admin&section=categories&action=delete&slug={{ cat.getCategorySlug }}"><img src="images/trash.svg" alt="delete"></a></td>
            </tr>
                {% endfor %}

        </tbody>
    </table>
    {% if oneCat is defined and oneCat is not null %}
        <form class="d-flex flex-column align-items-center justify-content-center" method="POST" action="" id="updateForm">
            <div class="row w-auto">
                <div class="col">
                    <div class="form-group">
                        <label for="catName">Nom</label>
                        <input type="text" class="form-control text-center" name="categoryNameUpdate" aria-describedby="catNameField" placeholder="{{ oneCat.getCategoryName }}" value="{{ oneCat.getCategoryName }}">
                    </div>
                    <div class="form-group d-none">
                        <input type="text" class="form-control text-center hidden" name="categoryIdUpdate" aria-describedby="catIdField" value="{{ oneCat.getCategoryId }}">
                    </div>

                </div>

                <div class="form-group text-center">
                    <button type="submit" class="btn btn-dark rounded-pill my-3" id="insertButton">Update</button>
                </div>
            </div>
        </form>
{% endif %}
    {% if delCat is defined and delCat is not null %}
        <form class="d-flex flex-column align-items-center justify-content-center" method="POST" action="" id="updateForm">
            <div class="row w-auto">
                <div class="col">
                    <div class="form-group">
                        <p class="h4">Etes-vous sur de supprimer<br><span class="text-danger">{{ delCat.getCategoryName }}</span></p>
                    </div>
                    <div class="form-group d-none">
                        <input type="text" class="form-control text-center hidden" name="categoryIdUpdate" aria-describedby="catIdField" value="{{ oneCat.getCategoryId }}">
                    </div>
                </div>
                <div class="form-group text-center">
                    <button type="submit" class="btn btn-dark rounded-pill my-3" id="insertButton">Supprimer</button>
                </div>
            </div>
        </form>
    {% endif %}
</div>

